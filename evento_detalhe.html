<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{ evento.titulo }} — Teatro CIAEI</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />

  <style>
    /* Estilos para melhorar a aparência do formulário */
    .form-group { margin-bottom: 16px; }
    .form-group label { display: block; margin-bottom: 6px; font-weight: bold; }
    .form-group input, .form-group select {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
    }
    .btn-submit {
      background: var(--accent);
      color: white;
      padding: 12px 20px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      font-weight: bold;
    }
    .btn-submit:hover { opacity: 0.9; }

    /* Estilos para as mensagens flash (de erro/sucesso) */
    .flash-message {
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 8px;
      font-weight: bold;
    }
    .flash-message.error {
      background: #ffebee; /* Vermelho claro */
      color: #c62828;      /* Vermelho escuro */
      border: 1px solid #c62828;
    }
  </style>
</head>
<body>
  <header>
    <img src="{{ url_for('static', filename='topo_teatro.jpg') }}" alt="Imagem do topo do teatro" />
    <div class="nav-area">
      <h1>{{ evento.titulo }}</h1>
      <nav>
        <a href="{{ url_for('inicio') }}" >Início</a>
        <a href="{{ url_for('eventos') }}">Próximos Eventos</a>
        <a href="{{ url_for('informacoes') }}">Informações</a>
        <a href="{{ url_for('bilheteria') }}">Bilheteria</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <div class="card">

      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="flash-message {{ category }}">
              {{ message }}
            </div>
          {% endfor %}
        {% endif %}
      {% endwith %}
      <h2>Reserve seus Ingressos</h2>
      <p>Preencha o formulário abaixo para garantir seu lugar no evento <strong>{{ evento.titulo }}</strong>.</p>
      <p><strong>Horários:</strong> {{ evento.horarios }}</p>

      <form action="{{ url_for('processar_reserva') }}" method="POST">
        <input type="hidden" name="evento_id" value="{{ evento.id }}">

        <div class="form-group">
          <label for="nome">Seu Nome Completo:</label>
          <input type="text" id="nome" name="nome" required>
        </div>

        <div class="form-group">
          <label for="email">Seu E-mail:</label>
          <input type="email" id="email" name="email" required>
        </div>

        <div class="form-group">
          <label for="quantidade">Quantidade de Ingressos:</label>
          <input type="number" id="quantidade" name="quantidade"
                 min="1" max="10" value="1" required
                 style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ccc; font-size: 16px;">
          <small>Limite de 10 ingressos por reserva.</small>
        </div>
        <button type="submit" class="btn-submit">Confirmar Reserva</button>
      </form>
    </div>
  </main>

  <footer class="card" style="margin-top:18px">
    <p>Este é um sistema de reserva para demonstração. Nenhum pagamento será processado.</p>
  </footer>
</body>
</html>
